S := [n] -> { A[i] : 0 <= i <= n; B[i] : 0 <= i <= n };
M := { A[i] -> [0,i]; B[i] -> [1, i] };
codegen (M * S);
