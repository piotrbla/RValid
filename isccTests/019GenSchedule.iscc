S := [n] -> { A[i] : 0 <= i <= n; B[i] : 0 <= i <= n };
M := { A[i] -> [i,0]; B[i] -> [i,1] };
codegen (M * S);
